script.attachEvent(DIM3_EVENT_CONSTRUCT,'OnConstruct');script.attachEvent(DIM3_EVENT_SPAWN, "OnSpawn");script.attachEvent(DIM3_EVENT_CLICK,'OnClick');function OnConstruct(object, subevent, id, tick){	object.model.on=true;	object.model.name = "Switch";		object.setting.suspend=true;	object.model.light.on=true;	object.model.halo.on=false;	object.model.shadow.on=false;	object.setting.damage=false;	object.setting.invincible=true;	object.setting.clickable=true;	object.size.clickDistance=5000;	object.size.x=200;	object.size.z=200;	object.size.y=200;}var IsEnabled = undefined;function OnSpawn(object, subevent, id, tick){	IsEnabled = false;}function OnClick(object, subevent, id, tick){	//var objectId = map.object.nearestSkipObjectId(object.position, object.setting.name, DIM3_OBJECT_TYPE_OBJECT, 360, null, 1, 1000000000000, object.setting.id);	var objectCount = map.object.getCount();	for (var i=0; i<objectCount; i++)	{		if(map.object.getName(i) == object.setting.name) object.event.callObjectById(i, "OnSwitchToggle", IsEnabled);	}	/*if(objects.count == 0)	{		iface.console.write("Could not find toggleable objects in range named " + object.setting.name);		return;	}*/	if(IsEnabled) object.model.fill.change(0, int.parseInt(object.setting.getParameter(1)));//Second state	else object.model.fill.change(0, int.parseInt(object.setting.getParameter(0)));//First state	IsEnabled = ! IsEnabled;	//object.setting.clickable=false;}