//script.attachEvent(DIM3_EVENT_PICKUP, "OnPickup");script.attachEvent(DIM3_EVENT_CLICK, "OnClick");script.attachEvent(DIM3_EVENT_SPAWN, "OnSpawn");script.attachEvent(DIM3_EVENT_CONSTRUCT, "OnConstruct");function OnConstruct(object, subevent, id, tick){	object.setting.suspend=false;	object.setting.pickUp=false;	//object.model.rotate.y=utility.random.getFloat(0,360);	object.model.on=true;	object.model.name="Pickup" + object.setting.name;	object.model.shadow.on=true;	object.setting.clickable = true;	object.size.clickDistance=3000;		object.size.x=1000;	object.size.z=1000;	object.size.y=1000;	object.size.weight=50;}/*function OnPickup(object, subevent, id, tick){	if(object.pickup.objectIsPlayer == false) 	{		object.pickup.cancel();		return;	}		//sound.playAtObject('Click',obj.setting.id,0.8);	object.setting.contact=false;	object.setting.suspend=true;	object.setting.hidden=true;		if (object.pickup.swapWeapon(object.pickup.objectId, object.setting.name) == false)	{		object.pickup.cancel();		return;	}}*/var TextObjectID = -1;var HasGivenAllItCanGive = false;function Hide(object){	object.setting.hidden=true;	object.setting.clickable = false;}function OnClick(object, subevent, id, tick){	if(HasGivenAllItCanGive) return;	if(object.click.objectIsPlayer == false) 	{		//object.click.cancel();		return;	}		//sound.playAtObject('Click',obj.setting.id,0.8);	object.setting.suspend=true;	object.setting.contact=false;	var fadeTime = 500;	object.model.animation.fade(0, fadeTime);	object.event.chain(fadeTime/100, "Hide");		iface.console.write("Clicked Weapon " + object.setting.name);	if(TextObjectID != -1)	{		map.object.remove(TextObjectID);	}	if (object.pickup.swapWeapon(object.click.objectId, object.setting.name) == false)	{		//object.click.cancel();		//return;	}	object.pickup.addAmmo(object.click.objectId, object.setting.name, 1000);	object.event.callPlayer("UpdateWeaponDisplay");	HasGivenAllItCanGive = true;}function OnSpawn(object, subevent, id, tick){	var point = new Point(object.position.x, object.position.y - 1000, object.position.z);	TextObjectID = map.object.spawn(object.setting.name, "PickupWeaponText", "", point, new Angle(0, 0, 0));	HasGivenAllItCanGive = false;}